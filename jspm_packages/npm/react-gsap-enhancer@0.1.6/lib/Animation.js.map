{"version":3,"sources":["../src/Animation.js"],"names":[],"mappings":"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","file":"Animation.js","sourcesContent":["export default class Animation {\n  constructor(animationSource, options, target, onNeedReattachAllAninmations) {\n    this._animationSource = animationSource\n    this._target = target\n    this._options = options\n    this._onNeedReattachAllAninmations = onNeedReattachAllAninmations\n    this._commandsWaitingForAttach = []\n  }\n\n  replaceAnimationSource(animationSource) {\n    if (this._gsapAnimation) {\n      this._gsapAnimation.kill()\n      this._gsapAnimation = undefined\n      this._animationSource = animationSource\n      this._onNeedReattachAllAninmations()\n    }\n    else {//it's not attached yet\n      this._animationSource = animationSource\n    }\n  }\n\n  attach() {\n    if (this._gsapAnimation) {\n      let time = this._gsapAnimation.time()\n      let paused = this._gsapAnimation.paused()\n      this._gsapAnimation\n        .invalidate()\n        .restart()\n        .time(time)\n\n      if (paused) {\n        this._gsapAnimation.pause()\n      }\n    }\n    else {\n      this._gsapAnimation = this._animationSource({\n        target: this._target,\n        options: this._options,\n      })\n    }\n\n    this._commandsWaitingForAttach\n      .splice(0)\n      .forEach(({fnName, args}) => this[fnName](...args))\n  }\n}\n\n\nfunction bindAPI() {\n  var TweenMaxMethods = ['delay', 'duration', 'endTime', 'eventCallback', 'invalidate', 'isActive', 'kill', 'pause', 'paused', 'play', 'progress', 'repeat', 'repeatDelay', 'restart', 'resume', 'reverse', 'reversed', 'seek', 'startTime', 'time', 'timeScale', 'totalDuration', 'totalProgress', 'totalTime', 'updateTo', 'yoyo']\n  var TimelineMaxMethods = ['recent', 'add', 'addCallback', 'addLabel', 'addPause', 'call', 'clear', 'currentLabel', 'duration', 'endTime', 'eventCallback', 'from', 'fromTo', 'getActive', 'getChildren', 'getLabelAfter', 'getLabelBefore', 'getLabelsArray', 'getLabelTime', 'getTweensOf', 'invalidate', 'isActive', 'kill', 'pause', 'paused', 'play', 'progress', 'remove', 'removeCallback', 'removeLabel', 'render', 'repeat', 'repeatDelay', 'restart', 'resume', 'reverse', 'reversed', 'seek', 'set', 'shiftChildren', 'staggerFrom', 'staggerFromTo', 'staggerTo', 'startTime', 'time', 'timeScale', 'to', 'totalDuration', 'totalProgress', 'totalTime', 'tweenFromTo', 'tweenTo', 'useFrames', 'yoyo']\n\n  TweenMaxMethods.concat(TimelineMaxMethods).forEach(fnName => {\n    Animation.prototype[fnName] = function (...args) {\n\n      if (!this._gsapAnimation) {\n        this._commandsWaitingForAttach.push({fnName, args})\n      }\n      else if (typeof this._gsapAnimation[fnName] === 'function') {\n        this._gsapAnimation[fnName](...args)\n      }\n      else {\n        throw Error(`Animation source has no method: '${fnName}'`)\n      }\n      return this\n    }\n  })\n}\nbindAPI()\n"]}